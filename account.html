<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alumni Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
        }
        .register-container {
            max-width: 700px;
            margin: 40px auto;
            padding: 30px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        .img-preview {
            max-width: 100%;
            max-height: 200px;
        }
    </style>
</head>
<body>

<div class="container register-container">
    <h2>Alumni Registration</h2>
    <form id="registrationForm" action="register.php" method="POST" enctype="multipart/form-data">
        <!-- All input fields remain the same -->
        <div class="mb-3">
            <label for="firstname" class="form-label">First Name</label>
            <input type="text" class="form-control" id="firstname" name="firstname" required>
        </div>
        <div class="mb-3">
            <label for="lastname" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="lastname" name="lastname" required>
        </div>
        <div class="mb-3">
            <label for="registerNo" class="form-label">Register No</label>
            <input type="text" class="form-control" id="registerNo" name="registerNo" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email ID</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" name="password" required>
        </div>
        <div class="mb-3">
            <label for="dob" class="form-label">Date of Birth</label>
            <input type="date" class="form-control" id="dob" name="dob" required>
        </div>
        <div class="mb-3">
            <label for="department" class="form-label">B.Tech Department</label>
            <input type="text" class="form-control" id="department" name="department" required>
        </div>
        <div class="mb-3">
            <label for="graduationYear" class="form-label">Year of Pass-out</label>
            <input type="number" class="form-control" id="graduationYear" name="graduationYear" required>
        </div>
        <div class="mb-3">
            <label for="careerStart" class="form-label">Started Career in</label>
            <input type="number" class="form-control" id="careerStart" name="careerStart" required>
        </div>
        <div class="mb-3">
            <label for="prevWork" class="form-label">Previously Worked at</label>
            <input type="text" class="form-control" id="prevWork" name="prevWork" required>
        </div>
        <div class="mb-3">
            <label for="designation" class="form-label">Present Designation & Address</label>
            <input type="text" class="form-control" id="designation" name="designation" required>
        </div>
        <div class="mb-3">
            <label for="residence" class="form-label">Contact Mailing Address</label>
            <input type="text" class="form-control" id="residence" name="residence" required>
        </div>
        <div class="mb-3">
            <label for="facebook" class="form-label">Your Facebook Link (Optional)</label>
            <input type="url" class="form-control" id="facebook" name="facebook">
        </div>
        <div class="mb-3">
            <label for="linkedin" class="form-label">Your LinkedIn Link</label>
            <input type="url" class="form-control" id="linkedin" name="linkedin" required>
        </div>
        <div class="mb-3">
            <label for="phone" class="form-label">Mobile Number</label>
            <input type="text" class="form-control" id="phone" name="phone" required>
        </div>
        <div class="mb-3">
            <label for="feedback" class="form-label">Feedback (150-300 words)</label>
            <textarea id="feedback" name="feedback" class="form-control" rows="3" required></textarea>
        </div>
        <div class="mb-3">
            <label for="image" class="form-label">Upload Image</label>
            <input type="file" class="form-control" id="image" name="image" accept="image/*" required>
            <img id="imagePreview" class="img-preview mt-2" style="display:none;" />
        </div>
        <button type="button" class="btn btn-primary" id="registerButton">Register</button>
    </form>
</div>

<!-- Modal -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmModalLabel">Confirm Your Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>First Name:</strong> <span id="modalFirstname"></span></p>
                <p><strong>Last Name:</strong> <span id="modalLastname"></span></p>
                <p><strong>Register No:</strong> <span id="modalRegisterNo"></span></p>
                <p><strong>Email ID:</strong> <span id="modalEmail"></span></p>
                <p><strong>Date of Birth:</strong> <span id="modalDob"></span></p>
                <p><strong>B.Tech Department:</strong> <span id="modalDepartment"></span></p>
                <p><strong>Year of Pass-out:</strong> <span id="modalGraduationYear"></span></p>
                <p><strong>Started Career in:</strong> <span id="modalCareerStart"></span></p>
                <p><strong>Previously Worked at:</strong> <span id="modalPrevWork"></span></p>
                <p><strong>Present Designation & Address:</strong> <span id="modalDesignation"></span></p>
                <p><strong>Contact Mailing Address:</strong> <span id="modalResidence"></span></p>
                <p><strong>Your Facebook Link:</strong> <span id="modalFacebook"></span></p>
                <p><strong>Your LinkedIn Link:</strong> <span id="modalLinkedIn"></span></p>
                <p><strong>Mobile Number:</strong> <span id="modalPhone"></span></p>
                <p><strong>Feedback:</strong> <span id="modalFeedback"></span></p>
                <div>
                    <strong>Image Preview:</strong><br>
                    <img id="modalImagePreview" class="img-preview mt-2" style="display:none;" />
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="confirmSaveButton">Save</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById('image').addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('imagePreview').src = e.target.result;
                document.getElementById('imagePreview').style.display = 'block';
            }
            reader.readAsDataURL(file);
        }
    });

    document.getElementById('registerButton').addEventListener('click', function () {
        // Get values from the form
        const firstname = document.getElementById('firstname').value;
        const lastname = document.getElementById('lastname').value;
        const registerNo = document.getElementById('registerNo').value;
        const email = document.getElementById('email').value;
        const dob = document.getElementById('dob').value;
        const department = document.getElementById('department').value;
        const graduationYear = document.getElementById('graduationYear').value;
        const careerStart = document.getElementById('careerStart').value;
        const prevWork = document.getElementById('prevWork').value;
        const designation = document.getElementById('designation').value;
        const residence = document.getElementById('residence').value;
        const facebook = document.getElementById('facebook').value;
        const linkedin = document.getElementById('linkedin').value;
        const phone = document.getElementById('phone').value;
        const feedback = document.getElementById('feedback').value;

        // Set the values in the modal
        document.getElementById('modalFirstname').innerText = firstname;
        document.getElementById('modalLastname').innerText = lastname;
        document.getElementById('modalRegisterNo').innerText = registerNo;
        document.getElementById('modalEmail').innerText = email;
        document.getElementById('modalDob').innerText = dob;
        document.getElementById('modalDepartment').innerText = department;
        document.getElementById('modalGraduationYear').innerText = graduationYear;
        document.getElementById('modalCareerStart').innerText = careerStart;
        document.getElementById('modalPrevWork').innerText = prevWork;
        document.getElementById('modalDesignation').innerText = designation;
        document.getElementById('modalResidence').innerText = residence;
        document.getElementById('modalFacebook').innerText = facebook || 'N/A';
        document.getElementById('modalLinkedIn').innerText = linkedin;
        document.getElementById('modalPhone').innerText = phone;
        document.getElementById('modalFeedback').innerText = feedback;

        // Show the image in the modal
        document.getElementById('modalImagePreview').src = document.getElementById('imagePreview').src;
        document.getElementById('modalImagePreview').style.display = 'block';

        // Show the modal
        const modal = new bootstrap.Modal(document.getElementById('confirmModal'));
        modal.show();
    });

    document.getElementById('confirmSaveButton').addEventListener('click', function () {
        // When the user confirms, submit the form
        document.getElementById('registrationForm').submit();
    });
</script>
</body>
</html>
